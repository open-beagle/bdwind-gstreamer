# 按需推流配置示例
# 此配置启用按需推流功能，只在有客户端连接时才启动GStreamer

gstreamer:
  capture:
    display_id: ":99"
    frame_rate: 30
    width: 1920
    height: 1080
  
  encoding:
    codec: "h264"
    bitrate: 2500
  
  audio:
    enabled: false
  
  # 按需推流配置
  on_demand:
    enabled: true                      # 启用按需启动（默认：true）
    idle_timeout: 5s                   # 无客户端后5秒停止推流
    quick_reconnect_window: 10s        # 10秒内重连不重启GStreamer

webrtc:
  ice_servers:
    - urls:
        - "stun:stun.l.google.com:19302"
  
  signaling_path: "/api/signaling"
  
  # WebRTC会话配置
  session:
    keep_alive_timeout: 30s            # ICE断开后继续推流30秒，等待重连

webserver:
  host: "0.0.0.0"
  port: 8080
  enable_cors: true

logging:
  level: "info"
  format: "text"

metrics:
  enabled: true
  port: 9090
